<div class="bg justify-content-center align-items-center" *ngIf="!openNewTab">
    <!-- <div class="header-wrap--home    js-header-wrap m-4">
        <button *ngIf="showResult" (click)="showResult = false" class="btn btn-primary backBtn btn-lg pull-left">Go
            Back</button>
        <img *ngIf="showResult" src="{{imageSrc}}" alt="{{imageAlt}}" style="height:60px" class="float-right mx-4" />
    </div> -->
    <div class="bootstrap snippets bootdey" [ngClass]="{'container': !showResult, 'top':showResult}">
        <div class="row">
            <div class="col-md-12 " style="margin-left: 0rem;">
                <!-- <img *ngIf="!showResult" src="{{imageSrc}}" alt="{{imageAlt}}" style="height:150px; margin-left: auto;
                    margin-right: auto;display: flex; margin-bottom: -80px" /> -->
                <div class="mask d-flex align-items-center h-100" *ngIf="!showResult">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12 mx-auto">
                                <div class="card  p-3 mb-5 bg-white rounded" style="box-shadow: 10px 10px 10px grey;">
                                    <div class="card-body p-2">
                                        <div class="input-group input-group-lg">
                                            <input type="text" class="form-control form-control-lg rounded"
                                                placeholder="Search for ...." aria-label="Type Keywords"
                                                aria-describedby="basic-addon2" [(ngModel)]="query"
                                                (keyup.enter)="search()" />
                                            <button (click)="search()" type="submit" [disabled]="query === ''"
                                                class="btn btn-outline-info btn-lg"><i class="fa fa-search"
                                                    style="font-size:20px"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- <mat-progress-bar color="accent" mode="indeterminate" *ngIf="spinnerService.visibility | async"></mat-progress-bar> -->
                <mat-spinner class="bee-spinner" style="margin:0 auto;" mode="indeterminate" [diameter]="150"
                    *ngIf="spinnerService.visibility | async">
                </mat-spinner>
                <div *ngIf="spinnerService.visibility.value == false && showResult">
                    <div class="bg-image">
                        <div class="row col-12">
                            <div class="col-8" style="margin-left:75px">
                                <form action="#" method="get">
                                    <div class="input-group" style="box-shadow: 10px 10px 10px grey;">
                                        <input type="text" placeholder="Search for..." name="search"
                                            class="form-control form-control-lg rounded" [(ngModel)]="query"
                                            (keyup.enter)="search()">
                                        <button (click)="search()" type="submit" [disabled]="disableSubmit"
                                            class="btn btn-outline-info btn-lg"><i class="fa fa-search"
                                                style="font-size:20px"></i></button>
                                        <!-- <div class="input-group-btn">
                                            <button class="btn btn-lg btn-info" type="submit" (keyup.enter)="search()"
                                                [disabled]="disableSubmit" (click)="search()">
                                                Search
                                            </button>
                                        </div> -->
                                    </div>
                                </form>
                            </div>
                            <div class="col-2">
                                <button class="btn btn-lg" style="float:right" type="submit" type="submit"
                                    (keyup.enter)="submit()" [disabled]="disableSubmit" (click)="submit()"
                                    [ngClass]="noOfSelected >= 3 ||allSelectedLabel != '' ? 'btn-success' : 'btn-secondary'">
                                    Submit
                                </button>
                            </div>
                        </div>
                        <div class="row col-12 my-4" style="margin-left:195px">
                            <h3 style="color:white">
                                <span *ngIf="queryTerm !== ''">{{count}} results found for : &nbsp;</span>
                                <span class="text-navy" *ngIf="queryTerm !== ''">"{{queryTerm}}"
                                </span>
                            </h3>
                        </div>
                    </div>

                    <div class="row col-12 mt-5 text-navy" style="margin-left:85px">
                        <mat-radio-group aria-label="You can also choose " (change)="disableSubmit = false"
                            [(ngModel)]="allSelectedLabel" class="col-8 mx-4">
                            <mat-radio-button class="mr-5 " value="relevant">Select all as
                                <b>relevant</b></mat-radio-button>
                            <mat-radio-button value="irrelevant">Select all as
                                <b>irrelevant</b></mat-radio-button>
                        </mat-radio-group>

                        <h3 class="col-3"   style="float:right"[ngClass]="noOfSelected >= 3 ? 'noOfSelectedDone' : 'noOfSelected'">
                        <span style="font-size:16px">Relevant
                            document selected -</span><span>{{noOfSelected}}/3</span>
                        </h3>
                        <!-- <div class="form-check form-check-inline col-6">
                                <input mdbRadio class="form-check-input" type="radio" name="inlineRadioOptions"
                                    id="inlineRadio1" value="relevant" (change)="handleChange($event)" />
                                <label class="form-check-label" for="inlineRadio1">Select all as
                                    <b>relevant</b></label>
                            </div>
                            <div class="form-check form-check-inline col-6">
                                <input mdbRadio class="form-check-input" type="radio" name="inlineRadioOptions"
                                    id="inlineRadio2" value="irrelevant" (change)="handleChange($event)" />
                                <label class="form-check-label" for="inlineRadio2">Select all as
                                    <b>irrelevant</b></label>
                            </div> -->
                    </div>
                    <form style="margin-left:82px">
                        <div
                            *ngFor="let link of searchResult | paginate: { itemsPerPage: 10, currentPage: p} ;let i=index;">
                            <div class="hr-line-dashed" *ngIf="i != 0"></div>
                            <!-- <button type="button" class="btn_img">
                                        <img src="/assets/like.png" width="18" height="18">
                                    </button>
                                    <button type="button" class="btn_img">
                                        <img src="../../assets/thumb-down.png" width="18" height="18">
                                    </button> -->
                            <!-- <input type="checkbox" (change)="onChange(link.doc_id, $event)"> -->
                            <div class="search-result col-10 card mb-6 m-3 p-3 rounded"
                                style="cursor:pointer; background:none!important; border:none!important">
                                <div class="row">
                                    <!-- <span class="col-6">
                                                <button style="background:rgb(212, 209, 209);border: none;float:right"
                                                    (click)="markReleIrrele($event,link, false)"><img
                                                        class="likedislikeimage mb-2 rounded"
                                                        src="../../assets/images/thumb-down.png" /></button>
                                            </span> -->
                                    <div class="col-7">
                                        <span>
                                            <h3 class="mx-3 mt-2"><a (click)="openWindow(link); openNewTab = true"
                                                    target="#">
                                                    {{link.title}}</a></h3>
                                        </span><span class="bi bi-three-dots-vertical"></span>
                                        <p class="mx-3" [innerHTML]="link.summary | highlightSearch:link.KeyList">
                                            {{link.summary}}</p>
                                        <!-- <p class="mx-3">
                                                    {{link.summary}}</p> -->
                                        <!-- <p class="mx-3" appHighlight [content]="link.text" [searchTerm]="query"
                                        [caseSensitive]="true">
                                    </p> -->
                                        <!-- <b class="mx-3 mt-2"><span>&nbsp;KeyPhrases: </span>
                                                    <span class="bold">{{link.KeyList}}</span>&nbsp;
                                                </b> -->
                                    </div>

                                    <span class="col-3 align-self-center">
                                        <button style="border: none;margin:5px auto" [ngClass]="{'btn btn-success' : link.bntStyle, 'btn btn-danger': !link.bntStyle, 'btn btn-secondary': link.bntStyle == null }"
                                            (click)="markReleIrrele($event,link, true)"><img
                                                class="likedislikeimage mb-2 rounded"
                                                src="../../assets/images/like.png" /> <b>
                                                Relevant</b></button>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="text-center">
                            <div class="btn-group pt-3" style="font-weight:500;color:white">
                                <!-- <mat-paginator #paginator [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 20]"
                                        [showFirstLastButtons]="true" [length]="totalSize"
                                        (page)="pageEvent = handlePage($event)" [pageIndex]="currentPage">
                                    </mat-paginator> -->
                                <pagination-controls (pageChange)="p = $event"></pagination-controls>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="openNewTab">
    <div class="bg-image" style="height:605px!important">
        <div class="header-wrap--home  js-header-wrap m-4">
            <button (click)="openNewTab = false" class="btn btn-info backBtn btn-lg pull-left">Go
                Back</button>
            <!-- <img *ngIf="showResult" src="{{imageSrc}}" alt="{{imageAlt}}" style="height:60px"
                class="float-right mx-4" /> -->
        </div>
        <div class="bootstrap snippets bootdey" [ngClass]="{'container': !showResult, 'top':showResult}">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox float-e-margins">
                        <div class="ibox-content">
                            <div class="card p-4">
                                <h2 style="
                                margin-left: auto;
                                margin-right: auto;">{{title}}</h2>
                                <!-- <p>{{content}}</p> -->
                                <p class="mx-3" [innerHTML]="content | highlightSearch:keylist">
                                    {{content}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>